{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\todo-app-extension\\\\client\\\\todo-app\\\\src\\\\pages\\\\Home.page.js\",\n  _s = $RefreshSig$();\nimport { UserContext } from '../contexts/user.context';\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Button, Typography } from '@mui/material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Todo = ({\n  todo,\n  deleteTodo\n}) => /*#__PURE__*/_jsxDEV(TableRow, {\n  hover: true,\n  role: \"checkbox\",\n  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n    children: todo.title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n    children: todo.description\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n    children: todo.due\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      component: RouterLink,\n      to: `/edit/${todo._id}`,\n      variant: \"outlined\",\n      sx: {\n        mr: 1\n      },\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      color: \"error\",\n      onClick: () => deleteTodo(todo._id),\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n_c = Todo;\nfunction TodoList() {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const {\n    logOutUser\n  } = useContext(UserContext);\n\n  // This function is called when the user clicks the \"Logout\" button.\n  const logOut = async () => {\n    try {\n      // Calling the logOutUser function from the user context.\n      const loggedOut = await logOutUser();\n      // Now we will refresh the page, and the user will be logged out and\n      // redirected to the login page because of the <PrivateRoute /> component.\n      if (loggedOut) {\n        window.location.reload(true);\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n  useEffect(() => {\n    async function getTodos() {\n      const response = await fetch(`http://localhost:5050/record/`);\n      if (!response.ok) {\n        console.error(`An error occurred: ${response.statusText}`);\n        return;\n      }\n      const todos = await response.json();\n      setTodos(todos);\n    }\n    getTodos();\n  }, []);\n  const deleteTodo = async id => {\n    await fetch(`http://localhost:5050/record/${id}`, {\n      method: 'DELETE'\n    });\n    setTodos(todos.filter(todo => todo._id !== id));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      sx: {\n        p: 2\n      },\n      children: \"Todos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      sx: {\n        maxHeight: 440\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        stickyHeader: true,\n        \"aria-label\": \"sticky table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Due\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: todos.map(todo => /*#__PURE__*/_jsxDEV(Todo, {\n            todo: todo,\n            deleteTodo: deleteTodo\n          }, todo._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(TodoList, \"7n5/PQa7qCupsob6y3yZG7gIlR8=\");\n_c2 = TodoList;\nexport default TodoList;\nvar _c, _c2;\n$RefreshReg$(_c, \"Todo\");\n$RefreshReg$(_c2, \"TodoList\");","map":{"version":3,"names":["UserContext","React","useEffect","useState","useContext","Link","RouterLink","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Typography","jsxDEV","_jsxDEV","Fragment","_Fragment","Todo","todo","deleteTodo","hover","role","children","title","fileName","_jsxFileName","lineNumber","columnNumber","description","due","component","to","_id","variant","sx","mr","color","onClick","_c","TodoList","_s","todos","setTodos","logOutUser","logOut","loggedOut","window","location","reload","error","alert","getTodos","response","fetch","ok","console","statusText","json","id","method","filter","p","maxHeight","stickyHeader","map","_c2","$RefreshReg$"],"sources":["C:/Users/pc/todo-app-extension/client/todo-app/src/pages/Home.page.js"],"sourcesContent":["import { UserContext } from '../contexts/user.context';\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n  Typography\r\n} from '@mui/material';\r\n \r\n const Todo = ({ todo, deleteTodo }) => (\r\n  <TableRow hover role=\"checkbox\">\r\n    <TableCell>{todo.title}</TableCell>\r\n    <TableCell>{todo.description}</TableCell>\r\n    <TableCell>{todo.due}</TableCell>\r\n    <TableCell>\r\n      <Button\r\n        component={RouterLink}\r\n        to={`/edit/${todo._id}`}\r\n        variant=\"outlined\"\r\n        sx={{ mr: 1 }}\r\n      >\r\n        Edit\r\n      </Button>\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"error\"\r\n        onClick={() => deleteTodo(todo._id)}\r\n      >\r\n        Delete\r\n      </Button>\r\n    </TableCell>\r\n  </TableRow>\r\n);\r\n\r\nfunction TodoList() {\r\n  const [todos, setTodos] = useState([]);\r\n  const { logOutUser } = useContext(UserContext);\r\n \r\n // This function is called when the user clicks the \"Logout\" button.\r\n const logOut = async () => {\r\n   try {\r\n     // Calling the logOutUser function from the user context.\r\n     const loggedOut = await logOutUser();\r\n     // Now we will refresh the page, and the user will be logged out and\r\n     // redirected to the login page because of the <PrivateRoute /> component.\r\n     if (loggedOut) {\r\n       window.location.reload(true);\r\n     }\r\n   } catch (error) {\r\n     alert(error)\r\n   }\r\n }\r\n\r\n  useEffect(() => {\r\n    async function getTodos() {\r\n      const response = await fetch(`http://localhost:5050/record/`);\r\n      if (!response.ok) {\r\n        console.error(`An error occurred: ${response.statusText}`);\r\n        return;\r\n      }\r\n      const todos = await response.json();\r\n      setTodos(todos);\r\n    }\r\n    getTodos();\r\n  }, []);\r\n\r\n  const deleteTodo = async (id) => {\r\n    await fetch(`http://localhost:5050/record/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n    setTodos(todos.filter((todo) => todo._id !== id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h6\" sx={{ p: 2 }}>\r\n        Todos\r\n      </Typography>\r\n      <TableContainer component={Paper} sx={{ maxHeight: 440 }}>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Title</TableCell>\r\n              <TableCell>Description</TableCell>\r\n              <TableCell>Due</TableCell>\r\n              <TableCell>Action</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {todos.map((todo) => (\r\n              <Todo\r\n                key={todo._id}\r\n                todo={todo}\r\n                deleteTodo={deleteTodo}\r\n              />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TodoList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}